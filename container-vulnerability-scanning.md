# Thursday, JKune 14th - Container Vulnerability Scanning

What is a vulnerability?
  - Weakness, something an attacker can exploit.

Examples of software vulnerabilities: Heartbleed, Shellshock, Meltdown, Dirty Cow

Database of vulnerabilities exists, maintained by U.S. National Vulnerability Database (NVD)! Every vulnerability gets a CVE identifier.
 - If you Google it, you can find affected software.

A vulnerability scanner examines systems for known vulnerabilities. 
  - Identify the packages and versions in the Docker image.
  - Cross-reference with vulnerability database

The reason why container vulnerability scanners are complex is because of Linux kernel distributions.
  - Different shells, editors, init systems
  - On any given system, you could be running hundreds of container images containing different kernel distributions
  - Not all features can get into a Linux distribution: 
    - They can enable.disable features
    - Link with libraries 
    - Might fix bugs that aren't upstream in the base distribution
    - Sometimes new patched versions may take months to reach upstream package repositories (e.g. Debian)
    - Even when a patch is available, you might not want to upgrade to a latest version because of other changes in that version
  - NVD only knows about vulns in the base distribution, not all derived distributions.
  - NVD doesn't always know about patched versions!

Example: Alpine/busybox 1.27.2
  - Bugs were found, and Alpine applied patches to the build 
  - But Alpine also added patches not known to NVD, so there could be vulnerabilities in these patches you wouldn't know about!

Often, software developers will have their own security advisories, which have a different subset of CVEs in their database. 

Not all container vulnerability scanners are created equal:
  - They can scan layer-by-laer or by image
  - They might only target malware, or scan files, rather than bad packages
  - They might use different security advisories in addition to NVD

Tools (free!):
  - MicroScanner: does package vulnerability scanning
    - Has a Jenkins plug-in
    - Can be run as part of a build
    - Contacts Aqua Security cyber-center vulnerability database
    - Can be used in a multi-stage build


